<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plague Evolution 2026 - Estrategista Ambiental</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --red: #ff1744; --blue: #00e5ff; --gold: #ffd700; --purple: #9c27b0; --yellow: #ffeb3b;
            --glass: rgba(10, 10, 10, 0.92); --border: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Rajdhani', sans-serif; background: #000; color: white; overflow: hidden; height: 100vh; }

        /* MAPA FUNDO */
        #map { width: 100%; height: 100vh; z-index: 1; filter: brightness(0.6) saturate(0.8); }

        /* INTERFACE GLASSMORPHISM */
        .glass { background: var(--glass); backdrop-filter: blur(15px); border: 1px solid var(--border); border-radius: 12px; }

        /* HUD SUPERIOR & INFERIOR */
        .hud { position: fixed; z-index: 1000; pointer-events: none; }
        .hud button, .hud .interact { pointer-events: auto; }

        .top-hud { top: 15px; left: 50%; transform: translateX(-50%); width: 95%; height: 45px; display: flex; align-items: center; padding: 0 15px; }
        .bottom-hud { bottom: 15px; left: 50%; transform: translateX(-50%); width: 95%; height: 90px; display: flex; justify-content: space-between; align-items: center; padding: 0 25px; }

        /* BARRAS DE STATUS (Baseadas nos prints de 2026) */
        .bars-container { flex: 1; margin: 0 30px; display: flex; flex-direction: column; gap: 8px; }
        .bar-group { display: flex; align-items: center; gap: 10px; }
        .bar-label { font-size: 0.65rem; color: #888; text-transform: uppercase; width: 80px; }
        .bar-bg { flex: 1; height: 6px; background: #222; border-radius: 3px; overflow: hidden; }
        .bar-fill { height: 100%; transition: width 1s ease-in-out; }

        /* TELAS OVERLAY (Sistema SPA) */
        .overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.96); z-index: 2000; display: none; 
            flex-direction: column; padding: 30px; animation: fadeIn 0.3s ease;
        }
        .overlay.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(1.02); } to { opacity: 1; transform: scale(1); } }

        /* MENU DE ABAS */
        .tab-nav { display: flex; gap: 5px; margin-bottom: 25px; border-bottom: 2px solid var(--border); }
        .tab { 
            padding: 15px 30px; cursor: pointer; color: #555; font-weight: 700; text-transform: uppercase; 
            transition: 0.3s; border-radius: 8px 8px 0 0;
        }
        .tab.active { color: white; background: rgba(255,23,68,0.15); border-bottom: 3px solid var(--red); }
        .tab.active.blue { background: rgba(0,229,255,0.15); border-bottom: 3px solid var(--blue); }

        /* GRADE HEXAGONAL (Evolu√ß√£o) */
        .hex-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(85px, 1fr)); gap: 20px; max-width: 900px; margin: auto; padding: 20px; }
        .hex { 
            width: 85px; height: 85px; background: #111; border: 2px solid #333; cursor: pointer; transition: 0.3s;
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
            display: flex; align-items: center; justify-content: center; font-size: 1.8rem;
        }
        .hex:hover { border-color: var(--red); box-shadow: 0 0 20px var(--red); transform: scale(1.1); }
        .hex.unlocked { background: var(--red); color: black; border-color: white; }

        /* POPUP PA√çS (Brasil Info) */
        .country-card { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
            width: 380px; padding: 30px; z-index: 3000; display: none; 
        }

        /* BOT√ïES */
        .btn { background: white; color: black; border: none; padding: 12px 25px; border-radius: 6px; font-weight: 800; cursor: pointer; text-transform: uppercase; }
        .btn-close { position: absolute; top: 25px; right: 25px; background: none; border: none; color: #666; font-size: 2rem; cursor: pointer; }
        .btn-close:hover { color: white; }

        /* MANUAL CARDS */
        .manual-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; max-width: 800px; margin: 50px auto; }
        .card { padding: 40px; text-align: center; cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.03); }
        .card:hover { border-color: var(--red); background: rgba(255, 23, 68, 0.1); }

    </style>
</head>
<body>

    <div id="map"></div>

    <div class="hud glass top-hud">
        <button class="btn" style="padding: 4px 12px; font-size: 0.7rem; background: var(--red); color: white;" onclick="openOverlay('news')">NOT√çCIAS</button>
        <marquee id="ticker" style="flex:1; padding: 0 20px; font-weight: 600; font-size: 0.95rem; color: #ddd;">
            BRASIL: GOVERNO CAIU | PESQUISA DA CURA ATINGE 84% | OMS EMITE ALERTA DE EXTIN√á√ÉO | CLIMA QUENTE ACELERA SURTO TROPICAL
        </marquee>
        <button onclick="openOverlay('settings')" style="background:none; border:none; cursor:pointer; font-size:1.4rem;">‚öôÔ∏è</button>
    </div>

    <div class="hud glass bottom-hud">
        <button class="btn" onclick="openOverlay('disease')">DOEN√áA</button>
        
        <div class="bars-container">
            <div class="bar-group">
                <span class="bar-label">Infectados</span>
                <div class="bar-bg"><div class="bar-fill" style="width: 75%; background: var(--red);"></div></div>
            </div>
            <div class="bar-group">
                <span class="bar-label">Cura</span>
                <div class="bar-bg"><div class="bar-fill" style="width: 84%; background: var(--blue);"></div></div>
            </div>
        </div>

        <div style="text-align: right; margin-right: 20px;">
            <span style="color: var(--gold); font-size: 1.8rem; font-weight: 700; display: block; line-height: 1;">7</span>
            <span style="font-size: 0.65rem; color: var(--gold); font-weight: bold;">PONTOS DNA</span>
        </div>
        <button class="btn" style="background: var(--blue);" onclick="openOverlay('world')">MUNDO</button>
    </div>

    <div id="disease" class="overlay">
        <button class="btn-close" onclick="closeAll()">‚úï</button>
        <div class="tab-nav">
            <div class="tab active" onclick="loadTab('trans')">Transmiss√£o</div>
            <div class="tab" onclick="loadTab('sint')">Sintomas</div>
            <div class="tab" onclick="loadTab('hab')">Habilidades</div>
        </div>
        <div class="hex-grid" id="evolutionGrid"></div>
        <div class="glass" style="margin-top: auto; padding: 25px; display: flex; justify-content: space-between; align-items: center;">
            <div id="nodeInfo">Selecione um sintoma ou vetor para evoluir</div>
            <button class="btn" style="background: var(--red); color: white;">Evoluir</button>
        </div>
    </div>

    <div id="world" class="overlay">
        <button class="btn-close" onclick="closeAll()">‚úï</button>
        <div class="tab-nav">
            <div class="tab active blue" onclick="loadTab('res')">Resumo</div>
            <div class="tab blue" onclick="loadTab('cure')">Cura</div>
            <div class="tab blue" onclick="loadTab('data')">Dados Mundiais</div>
        </div>
        <div style="flex:1; display: flex; gap: 30px;">
            <div class="glass" style="flex:1; padding: 20px;">
                <h3 style="color: var(--blue);">Humanidade √† beira da extin√ß√£o</h3>
                <p style="margin-top: 20px; font-size: 1.2rem;">Mortos: 7.927.115.027</p>
                <p style="color: var(--red);">Infectados: 199.975</p>
            </div>
            <div class="glass" style="flex:1.5; padding: 20px; position: relative;">
                <h4>Gr√°fico de Tend√™ncia</h4>
                <div style="position: absolute; bottom: 20px; width: 90%; height: 60%; background: linear-gradient(transparent, rgba(0,229,255,0.1)); border-bottom: 2px solid #333;"></div>
            </div>
        </div>
    </div>

    <div id="brasilPopup" class="glass country-card">
        <button class="btn-close" style="top:10px; right:10px; font-size: 1.2rem;" onclick="this.parentElement.style.display='none'">‚úï</button>
        <h2 style="color: var(--blue); margin-bottom: 15px;">BRASIL</h2>
        <p style="color: #ccc; line-height: 1.6; font-size: 1.1rem;">
            Um pa√≠s rural. Tem um clima tipicamente quente, √∫mido.<br>
            Continente: Am√©rica do Sul.
        </p>
        <hr style="margin: 20px 0; border: 0; border-top: 1px solid #333;">
        <p><b>Status:</b> <span style="color: var(--red);">N√£o existe mais</span></p>
        <p><b>Mortos:</b> 221.372.956</p>
    </div>

    <div id="manual" class="overlay">
        <button class="btn-close" onclick="closeAll()">‚úï</button>
        <h1 style="text-align: center;">CENTRAL DE COMANDO</h1>
        <div class="manual-grid">
            <div class="glass card">
                <div style="font-size: 4rem; margin-bottom: 10px;">üéì</div>
                <h2>TUTORIAL</h2>
                <p style="color: #777; margin-top: 10px;">Aprenda a infectar o mundo passo a passo.</p>
            </div>
            <div class="glass card">
                <div style="font-size: 4rem; margin-bottom: 10px;">üìñ</div>
                <h2>MANUAL</h2>
                <p style="color: #777; margin-top: 10px;">Consulte mec√¢nicas detalhadas e estrat√©gias.</p>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // CONFIGURA√á√ÉO DO MAPA (T√°tico Dark)
        const map = L.map('map', { center: [-15, -50], zoom: 3, zoomControl: false, attributionControl: false });
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);

        // SISTEMA DE TELAS (SPA)
        function openOverlay(id) {
            closeAll();
            document.getElementById(id).classList.add('active');
            if(id === 'disease') loadTab('trans');
        }

        function closeAll() {
            document.querySelectorAll('.overlay').forEach(o => o.classList.remove('active'));
        }

        // GERADOR DE GRADE HEXAGONAL (Evolu√ß√£o)
        function loadTab(type) {
            const grid = document.getElementById('evolutionGrid');
            grid.innerHTML = '';
            const count = type === 'trans' ? 12 : 15;
            const icons = type === 'trans' ? ['üê¶', 'üêÄ', 'ü¶ü', 'üíß', 'üí®'] : ['ü§í', 'ü§ß', 'ü§¢', 'ü§Æ', 'üíÄ'];

            for(let i=0; i<count; i++) {
                const hex = document.createElement('div');
                hex.className = 'hex';
                hex.innerHTML = icons[i % icons.length];
                hex.onclick = () => {
                    hex.classList.toggle('unlocked');
                    document.getElementById('nodeInfo').innerHTML = `<b>Tra√ßo ${i+1}:</b> Aumenta a contamina√ß√£o em ambientes √°ridos e avi√µes.`;
                };
                grid.appendChild(hex);
            }
        }

        // TRIGGER INFO PA√çS (Brasil)
        map.on('click', () => {
            document.getElementById('brasilPopup').style.display = 'block';
        });

    </script>
</body>
</html>