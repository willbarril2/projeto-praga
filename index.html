<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praga</title>
    
    <link rel="icon" href="biohazard-sign.png" type="image/png">
    <link rel="apple-touch-icon" href="biohazard-sign.png">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --red: #ff1744; --blue: #00e5ff; --gold: #ffd700; --dark: #080808;
            --glass: rgba(10, 10, 10, 0.94); --border: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Rajdhani', sans-serif; background: var(--dark); color: white; overflow: hidden; height: 100vh; }

        /* --- TELA INICIAL (MENU) --- */
        #startMenu {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #ff1744 0%, #600000 50%, #000 100%);
            z-index: 5000; display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 0.8s cubic-bezier(0.85, 0, 0.15, 1);
        }

        .menu-bg-effect {
            position: absolute; width: 100%; height: 100%; opacity: 0.1;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon points="50,1 95,25 95,75 50,99 5,75 5,25" fill="none" stroke="white" stroke-width="1"/></svg>');
            background-size: 80px 80px; z-index: -1;
        }

        .bio-logo {
            font-family: 'Orbitron', sans-serif; font-size: 4rem; font-weight: 900;
            text-shadow: 0 0 20px rgba(0,0,0,0.5); margin-bottom: 50px; text-align: center;
        }

        .menu-buttons { display: flex; flex-direction: column; gap: 20px; width: 320px; }
        .btn-menu {
            background: white; color: #800000; border: none; padding: 18px;
            font-size: 1.5rem; font-weight: 800; border-radius: 8px; cursor: pointer;
            transition: 0.3s; text-transform: uppercase; text-align: center;
            box-shadow: 0 8px 0 #ccc;
        }
        .btn-menu:hover { transform: translateY(-4px); box-shadow: 0 12px 20px rgba(0,0,0,0.4); background: var(--red); color: white; }

        /* --- GAMEPLAY HUD --- */
        #map { width: 100%; height: 100vh; z-index: 1; filter: brightness(0.4) saturate(0.5); }
        .hud-glass { background: var(--glass); backdrop-filter: blur(15px); border: 1px solid var(--border); border-radius: 10px; }
        .game-ui { position: fixed; z-index: 1000; pointer-events: none; }
        .game-ui * { pointer-events: auto; }
        .top-news { top: 15px; left: 50%; transform: translateX(-50%); width: 94%; height: 45px; display: flex; align-items: center; padding: 0 20px; }
        .bottom-console { bottom: 15px; left: 50%; transform: translateX(-50%); width: 94%; height: 85px; display: flex; justify-content: space-between; align-items: center; padding: 0 25px; }

        /* BARRAS DE STATUS */
        .status-bars { flex: 1; margin: 0 40px; display: flex; flex-direction: column; gap: 10px; }
        .bar-container { display: flex; align-items: center; gap: 15px; }
        .bar-label { font-size: 0.7rem; color: #666; width: 70px; text-transform: uppercase; }
        .bar-rail { flex: 1; height: 6px; background: #111; border-radius: 3px; overflow: hidden; }
        .bar-fill { height: 100%; transition: width 1s; }

        /* --- OVERLAYS --- */
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.98); z-index: 2000; display: none;
            flex-direction: column; padding: 30px; animation: overlayIn 0.4s ease;
        }
        .overlay.active { display: flex; }
        @keyframes overlayIn { from { opacity: 0; transform: scale(1.05); } to { opacity: 1; transform: scale(1); } }

        .tab-system { display: flex; gap: 10px; border-bottom: 2px solid var(--border); margin-bottom: 30px; }
        .tab-trigger { padding: 15px 35px; cursor: pointer; color: #444; font-weight: 800; text-transform: uppercase; transition: 0.3s; }
        .tab-trigger.active { color: white; border-bottom: 4px solid var(--red); background: rgba(255,23,68,0.05); }

        /* GRADE NEURAL */
        .neural-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); gap: 20px; 
            max-width: 1000px; margin: auto;
        }
        .node {
            width: 90px; height: 90px; background: #0c0c0c; border: 2px solid #222;
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
            display: flex; align-items: center; justify-content: center; font-size: 2rem;
            cursor: pointer; transition: 0.4s;
        }
        .node:hover { border-color: var(--red); background: #1a0000; box-shadow: 0 0 25px var(--red); }

        /* POPUP BRASIL */
        .tactical-popup {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 400px; padding: 35px; z-index: 3000; display: none;
        }

        .btn-action { background: var(--red); color: white; border: none; padding: 12px 25px; border-radius: 4px; font-weight: 800; cursor: pointer; }
        .btn-close { position: absolute; top: 25px; right: 25px; background: none; border: none; color: #555; font-size: 2.5rem; cursor: pointer; }

    </style>
</head>
<body>

    <div id="startMenu">
        <div class="menu-bg-effect"></div>
        <div class="bio-logo">PRAGA<br><span style="font-size: 1.5rem; color: #fff; letter-spacing: 5px;">ESTRAT√âGIA GLOBAL</span></div>
        <div class="menu-buttons">
            <button class="btn-menu" onclick="startGame()">Iniciar</button>
            <button class="btn-menu" onclick="openOverlay('manual')">Tutorial</button>
            <button class="btn-menu" style="background: #222; color: #666; box-shadow: 0 8px 0 #000;">Extras</button>
        </div>
    </div>

    <div id="map"></div>

    <div class="game-ui hud-glass top-news">
        <span style="color: var(--red); font-weight: 800; margin-right: 15px;">NOT√çCIAS</span>
        <marquee style="flex:1; color: #ccc;" id="tickerText">SISTEMA ATIVO | MONITORANDO BIOSFERA | CURA EM 0%...</marquee>
        <button onclick="location.reload()" style="background:none; border:none; color:white; font-size:1.5rem; cursor:pointer; margin-left:20px;">‚öôÔ∏è</button>
    </div>

    <div class="game-ui hud-glass bottom-console">
        <button class="btn-action" onclick="openOverlay('evolution')">DOEN√áA</button>
        <div class="status-bars">
            <div class="bar-container">
                <span class="bar-label">Infectados</span>
                <div class="bar-rail"><div class="bar-fill" id="infBar" style="width: 5%; background: var(--red);"></div></div>
            </div>
            <div class="bar-container">
                <span class="bar-label">Cura</span>
                <div class="bar-rail"><div class="bar-fill" style="width: 0%; background: var(--blue);"></div></div>
            </div>
        </div>
        <div style="text-align: right; min-width: 80px;">
            <span style="color: var(--gold); font-size: 2rem; font-weight: bold;" id="dnaCounter">10</span>
            <div style="font-size: 0.7rem; color: var(--gold);">DNA</div>
        </div>
        <button class="btn-action" style="background: var(--blue); margin-left: 20px;" onclick="openOverlay('world')">MUNDO</button>
    </div>

    <div id="evolution" class="overlay">
        <button class="btn-close" onclick="closeAll()">‚úï</button>
        <div class="tab-system">
            <div class="tab-trigger active" onclick="loadEvolution('trans')">Transmiss√£o</div>
            <div class="tab-trigger" onclick="loadEvolution('sint')">Sintomas</div>
        </div>
        <div class="neural-grid" id="nodeGrid"></div>
    </div>

    <div id="world" class="overlay">
        <button class="btn-close" onclick="closeAll()">‚úï</button>
        <h2 style="color: var(--blue); margin-bottom: 30px;">DADOS MUNDIAIS</h2>
        <p style="font-size: 2rem;">Popula√ß√£o: 8.000.000.000</p>
    </div>

    <div id="brasilInfo" class="hud-glass tactical-popup">
        <button class="btn-close" style="top:10px; right:15px; font-size: 1.5rem;" onclick="this.parentElement.style.display='none'">‚úï</button>
        <h2 style="color: var(--blue); margin-bottom: 15px;">BRASIL</h2>
        <p style="color: #ccc; line-height: 1.6;">Um pa√≠s rural. Clima quente e √∫mido. <br>Am√©rica do Sul.</p>
        <hr style="margin: 20px 0; border: 0; border-top: 1px solid #333;">
        <p><b>STATUS:</b> <span style="color: #00ff00;">SAUD√ÅVEL</span></p>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        function startGame() {
            document.getElementById('startMenu').style.transform = 'translateY(-100%)';
            setTimeout(() => { initMap(); }, 800);
        }

        function openOverlay(id) {
            closeAll();
            document.getElementById(id).classList.add('active');
            if(id === 'evolution') loadEvolution('trans');
        }

        function closeAll() { document.querySelectorAll('.overlay').forEach(o => o.classList.remove('active')); }

        let map;
        function initMap() {
            if (map) return;
            map = L.map('map', { center: [0, 0], zoom: 2.5, zoomControl: false, attributionControl: false });
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);
            map.on('click', () => { document.getElementById('brasilInfo').style.display = 'block'; });
        }

        const icons = { trans: ['üê¶', 'üêÄ', 'ü¶ü', 'üíß', 'üí®'], sint: ['ü§í', 'ü§ß', 'ü§¢', 'ü§Æ', 'üíÄ'] };
        function loadEvolution(type) {
            const grid = document.getElementById('nodeGrid');
            grid.innerHTML = '';
            icons[type].forEach(icon => {
                const node = document.createElement('div');
                node.className = 'node';
                node.innerHTML = icon;
                grid.appendChild(node);
            });
        }
    </script>
</body>
</html>